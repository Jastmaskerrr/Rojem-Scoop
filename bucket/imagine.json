{
    "version": "2.5.2",
    "description": "Fast, compact image and animation viewer. Can be used as a standalone application or integrated as a Total Commander Lister plugin.",
    "homepage": "https://www.nyam.pe.kr/dev/imagine/",
    "license": {
        "identifier": "Freeware",
        "url": "https://www.nyam.pe.kr/dev/imagine/#license"
    },
    "suggest": {
        "Total Commander Plugin Host": "extras/totalcommander"
    },
    "pre_install": "if (!(Test-Path \"$persist_dir\\Imagine.ini\")) { New-Item \"$dir\\Imagine.ini\" | Out-Null }",
    "architecture": {
        "64bit": {
            "url": "https://raw.githubusercontent.com/nyam1003/imagine/main/x64/Imagine_2.5.2_x64_Unicode_Full.zip",
            "hash": "c3724a148ca2772ccb367d7234e349f5772785b0fe0a7e87e5ced679a1d67959",
            "bin": [
                "Imagine64.exe",
                [
                    "Imagine64.exe",
                    "Imagine"
                ]
            ],
            "shortcuts": [
                [
                    "Imagine64.exe",
                    "Imagine"
                ]
            ]
        },
        "32bit": {
            "url": "https://raw.githubusercontent.com/nyam1003/imagine/main/Imagine_2.5.2_Unicode_Full.zip",
            "hash": "7550f1afe333e3f93d2c7b613f74df5398870a2a8ae69a2ff55e6de9d6132ff7",
            "bin": "Imagine.exe",
            "shortcuts": [
                [
                    "Imagine.exe",
                    "Imagine"
                ]
            ]
        },
        "arm64": {
            "url": "https://raw.githubusercontent.com/nyam1003/imagine/main/arm64/Imagine_2.5.2_arm64_Unicode_Full.zip",
            "hash": "b04f2d1a0d9a5ae9865345314073ab7d5dace3ed32d385e31eb5684b7f3bea43",
            "bin": "Imagine.exe",
            "shortcuts": [
                [
                    "Imagine.exe",
                    "Imagine"
                ]
            ]
        }
    },
    "installer": {
        "script": [
            "$TCDir = $(appdir totalcommander $global)",
            "",
            "if ($TCDir -and (Test-Path \"$TCDir\\current\")) {",
            "    Write-Host \"Found Total Commander, integrating plugin...\" -ForegroundColor Cyan",
            "    ",
            "    $PluginDir = \"$TCDir\\current\\plugins\\Wlx\\Imagine\"",
            "    if (!(Test-Path \"$PluginDir\")) { New-Item \"$PluginDir\" -ItemType Directory -Force | Out-Null }",
            "    ",
            "    Copy-Item \"$dir\\*\" \"$PluginDir\" -Recurse -Force -Exclude \"Imagine.ini\", \"PlugInst.inf\"",
            "    Write-Host \"Imagine plugin installed to: $PluginDir\" -ForegroundColor Green",
            "} else {",
            "    Write-Host \"Total Commander (Scoop) not found. Installing as standalone application only.\" -ForegroundColor Yellow",
            "}"
        ]
    },
    "persist": [
        "Imagine.ini",
        "PlugInst.inf",
        "Plugin"
    ],
    "checkver": "v(\\d[\\d.]+)",
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://raw.githubusercontent.com/nyam1003/imagine/main/x64/Imagine_$version_x64_Unicode_Full.zip"
            },
            "32bit": {
                "url": "https://raw.githubusercontent.com/nyam1003/imagine/main/Imagine_$version_Unicode_Full.zip"
            },
            "arm64": {
                "url": "https://raw.githubusercontent.com/nyam1003/imagine/main/arm64/Imagine_$version_arm64_Unicode_Full.zip"
            }
        }
    }
}
