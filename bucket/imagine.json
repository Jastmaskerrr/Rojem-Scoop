{
    "version": "2.5.1",
    "description": "Fast, compact image and animation viewer. Can be used as a standalone application or integrated as a Total Commander Lister plugin.",
    "homepage": "https://www.nyam.pe.kr/dev/imagine/",
    "license": {
        "identifier": "Freeware",
        "url": "https://www.nyam.pe.kr/dev/imagine/#license"
    },
    "suggest": {
        "Total Commander Plugin Host": "extras/totalcommander"
    },
    "pre_install": "if (!(Test-Path \"$persist_dir\\Imagine.ini\")) { New-Item \"$dir\\Imagine.ini\" | Out-Null }",
    "architecture": {
        "64bit": {
            "url": "https://raw.githubusercontent.com/nyam1003/imagine/main/x64/Imagine_2.5.1_x64_Unicode_Full.zip",
            "hash": "3c3cd56306eb9b93f3aaf1cc28906bf4983d8d3615be0fbcbb0fd4bfe0bf102e",
            "bin": [
                "Imagine64.exe",
                [
                    "Imagine64.exe",
                    "Imagine"
                ]
            ],
            "shortcuts": [
                [
                    "Imagine64.exe",
                    "Imagine"
                ]
            ]
        },
        "32bit": {
            "url": "https://raw.githubusercontent.com/nyam1003/imagine/main/Imagine_2.5.1_Unicode_Full.zip",
            "hash": "e8c030c93bd338fd3416d40191f01ed15291362e142243b5869a82f0e86021a0",
            "bin": "Imagine.exe",
            "shortcuts": [
                [
                    "Imagine.exe",
                    "Imagine"
                ]
            ]
        },
        "arm64": {
            "url": "https://raw.githubusercontent.com/nyam1003/imagine/main/arm64/Imagine_2.5.1_arm64_Unicode_Full.zip",
            "hash": "9a211382ee7d0d17bcdc0579df4fc015cb75cb37098ae3e51beaf3a03b62f056",
            "bin": "Imagine.exe",
            "shortcuts": [
                [
                    "Imagine.exe",
                    "Imagine"
                ]
            ]
        }
    },
    "installer": {
        "script": [
            "$TCDir = $(appdir totalcommander $global)",
            "",
            "if ($TCDir -and (Test-Path \"$TCDir\\current\")) {",
            "    Write-Host \"Found Total Commander, integrating plugin...\" -ForegroundColor Cyan",
            "    ",
            "    $PluginDir = \"$TCDir\\current\\plugins\\Wlx\\Imagine\"",
            "    if (!(Test-Path \"$PluginDir\")) { New-Item \"$PluginDir\" -ItemType Directory -Force | Out-Null }",
            "    ",
            "    Copy-Item \"$dir\\*\" \"$PluginDir\" -Recurse -Force -Exclude \"Imagine.ini\", \"PlugInst.inf\"",
            "    Write-Host \"Imagine plugin installed to: $PluginDir\" -ForegroundColor Green",
            "} else {",
            "    Write-Host \"Total Commander (Scoop) not found. Installing as standalone application only.\" -ForegroundColor Yellow",
            "}"
        ]
    },
    "persist": [
        "Imagine.ini",
        "PlugInst.inf",
        "Plugin"
    ],
    "checkver": "v(\\d[\\d.]+)",
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://raw.githubusercontent.com/nyam1003/imagine/main/x64/Imagine_$version_x64_Unicode_Full.zip"
            },
            "32bit": {
                "url": "https://raw.githubusercontent.com/nyam1003/imagine/main/Imagine_$version_Unicode_Full.zip"
            },
            "arm64": {
                "url": "https://raw.githubusercontent.com/nyam1003/imagine/main/arm64/Imagine_$version_arm64_Unicode_Full.zip"
            }
        }
    }
}
