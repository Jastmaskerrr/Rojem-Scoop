{
    "version": "2.4.0",
    "description": "Fast, compact image and animation viewer. Can be used as a standalone application or integrated as a Total Commander Lister plugin.",
    "homepage": "https://www.nyam.pe.kr/dev/imagine/",
    "license": {
        "identifier": "Freeware",
        "url": "https://www.nyam.pe.kr/dev/imagine/#license"
    },
    "suggest": {
        "Total Commander Plugin Host": "extras/totalcommander"
    },
    "pre_install": "if (!(Test-Path \"$persist_dir\\Imagine.ini\")) { New-Item \"$dir\\Imagine.ini\" | Out-Null }",
    "architecture": {
        "64bit": {
            "url": "https://raw.githubusercontent.com/nyam1003/imagine/main/x64/Imagine_2.5.0_x64_Unicode_Full.zip",
            "hash": "76014cba04674fbb5b359e9aab2e8cc247daff37036ab61cc1185e946e5c6f80",
            "bin": [
                "Imagine64.exe",
                [
                    "Imagine64.exe",
                    "Imagine"
                ]
            ],
            "shortcuts": [
                [
                    "Imagine64.exe",
                    "Imagine"
                ]
            ]
        },
        "32bit": {
            "url": "https://raw.githubusercontent.com/nyam1003/imagine/main/Imagine_2.5.0_Unicode_Full.zip",
            "hash": "a85c30d4fa4ebda722b33cdf5c8c32ca99a2a9bbf71b0e5de2c6d786c4b09d3d",
            "bin": "Imagine.exe",
            "shortcuts": [
                [
                    "Imagine.exe",
                    "Imagine"
                ]
            ]
        },
        "arm64": {
            "url": "https://raw.githubusercontent.com/nyam1003/imagine/main/arm64/Imagine_2.5.0_arm64_Unicode_Full.zip",
            "hash": "ffe3244007e872d0e20122e2ec1dfd64fa61005d4b6f23fd926588ba9d552f01",
            "bin": "Imagine.exe",
            "shortcuts": [
                [
                    "Imagine.exe",
                    "Imagine"
                ]
            ]
        }
    },
    "installer": {
        "script": [
            "$TCDir = $(appdir totalcommander $global)",
            "",
            "if ($TCDir -and (Test-Path \"$TCDir\\current\")) {",
            "    Write-Host \"Found Total Commander, integrating plugin...\" -ForegroundColor Cyan",
            "    ",
            "    $PluginDir = \"$TCDir\\current\\plugins\\Wlx\\Imagine\"",
            "    if (!(Test-Path \"$PluginDir\")) { New-Item \"$PluginDir\" -ItemType Directory -Force | Out-Null }",
            "    ",
            "    Copy-Item \"$dir\\*\" \"$PluginDir\" -Recurse -Force -Exclude \"Imagine.ini\", \"PlugInst.inf\"",
            "    Write-Host \"Imagine plugin installed to: $PluginDir\" -ForegroundColor Green",
            "} else {",
            "    Write-Host \"Total Commander (Scoop) not found. Installing as standalone application only.\" -ForegroundColor Yellow",
            "}"
        ]
    },
    "persist": [
        "Imagine.ini",
        "PlugInst.inf",
        "Plugin"
    ],
    "checkver": "v(\\d[\\d.]+)",
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://raw.githubusercontent.com/nyam1003/imagine/main/x64/Imagine_$version_x64_Unicode_Full.zip"
            },
            "32bit": {
                "url": "https://raw.githubusercontent.com/nyam1003/imagine/main/Imagine_$version_Unicode_Full.zip"
            },
            "arm64": {
                "url": "https://raw.githubusercontent.com/nyam1003/imagine/main/arm64/Imagine_$version_arm64_Unicode_Full.zip"
            }
        }
    }
}
